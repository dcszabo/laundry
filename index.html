<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Laundry Guide | Soft Water</title>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:opsz,wght@9..144,400;9..144,600;9..144,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <img class="header-icon" src="android-chrome-192x192.png" alt="">
                <div class="header-text">
                    <h1>Laundry Guide</h1>
                    <div class="water-badge">Calculate your dose</div>
                </div>
            </div>
        </header>

        <div class="install-nudge" id="installNudge" hidden>
            <div class="install-text">Add this guide to your home screen for quick access.</div>
            <button class="install-dismiss" id="installDismiss" type="button">Got it</button>
        </div>

        <!-- Navigation moved to bottom -->

        <!-- Calculator Section -->
        <section class="section active" id="calculator">
            <div class="key-fact" data-key="soft-water-fact">
                <button class="key-fact-close" aria-label="Dismiss" data-dismiss="soft-water-fact">√ó</button>
                <div class="key-fact-title">
                    üí° Soft Water = Less Detergent
                    <span class="why-tip" title="Soft water has fewer minerals, so detergent lathers and cleans more efficiently.">Why?</span>
                </div>
                <div class="key-fact-text">Your water needs only ~15mL for normal loads. Standard caps suggest 50‚Äì60mL ‚Äî that's 3√ó more than you need!</div>
            </div>

            <div class="result-display-sticky">
                <div class="result-display">
                    <div class="result-row">
                        <div class="cup-container">
                            <div class="cup-wrapper">

                                <svg class="cup-svg" viewBox="0 0 80 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Cup outline -->
                                    <path d="M10 15 L10 85 Q10 95 20 95 L60 95 Q70 95 70 85 L70 15 Z"
                                          fill="rgba(255,255,255,0.05)"
                                          stroke="rgba(255,255,255,0.3)"
                                          stroke-width="2"/>

                                    <!-- Measurement lines and labels -->
                                    <line x1="12" y1="20" x2="22" y2="20" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <text x="25" y="23" fill="rgba(255,255,255,0.3)" font-size="8">75</text>

                                    <line x1="12" y1="35" x2="22" y2="35" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <text x="25" y="38" fill="rgba(255,255,255,0.3)" font-size="8">50</text>

                                    <line x1="12" y1="50" x2="22" y2="50" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <text x="25" y="53" fill="rgba(255,255,255,0.3)" font-size="8">35</text>

                                    <line x1="12" y1="65" x2="22" y2="65" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <text x="25" y="68" fill="rgba(255,255,255,0.3)" font-size="8">25</text>

                                    <line x1="12" y1="80" x2="22" y2="80" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <text x="25" y="83" fill="rgba(255,255,255,0.3)" font-size="8">15</text>

                                    <!-- Liquid fill - this will be animated -->
                                    <clipPath id="cupClip">
                                        <path d="M12 17 L12 83 Q12 93 20 93 L60 93 Q68 93 68 83 L68 17 Z"/>
                                    </clipPath>
                                    <rect id="liquidFill" class="cup-fill"
                                          x="12" y="65" width="56" height="28"
                                          fill="url(#liquidGradient)"
                                          clip-path="url(#cupClip)"/>

                                    <!-- Gradient for liquid -->
                                    <defs>
                                        <linearGradient id="liquidGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                            <stop offset="0%" style="stop-color:#4da3ff;stop-opacity:0.8" />
                                            <stop offset="100%" style="stop-color:#00d4aa;stop-opacity:0.6" />
                                        </linearGradient>
                                    </defs>

                                    <!-- "MAX" label at top -->
                                    <text x="55" y="23" fill="rgba(255,107,157,0.5)" font-size="7" font-weight="bold">MAX</text>
                                </svg>
                            </div>
                        </div>
                        <div class="result-text">
                            <div class="result-dose-row">
                                <div class="result-value"><span id="doseAmount">20‚Äì25</span><span class="result-unit" id="doseUnit"> mL</span></div>
                                <span class="temp-badge" id="tempBadge">üå°Ô∏è 30¬∞C</span>
                            </div>
                            <div class="result-meta-row">
                                <span class="cup-comparison" id="cupComparison">‚Öì of cap line!</span>
                            </div>
                        </div>
                        <div class="washer-container">
                            <div class="washer-wrapper">
                                <svg class="washer-svg" viewBox="0 0 80 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <defs>
                                        <clipPath id="drumClip">
                                            <circle cx="40" cy="58" r="23"/>
                                        </clipPath>
                                    </defs>
                                    <!-- Machine body -->
                                    <rect x="5" y="5" width="70" height="90" rx="8"
                                          fill="rgba(255,255,255,0.05)"
                                          stroke="rgba(255,255,255,0.3)" stroke-width="2"/>
                                    <!-- Control strip -->
                                    <rect x="10" y="10" width="60" height="10" rx="3"
                                          fill="rgba(255,255,255,0.06)"/>
                                    <circle cx="22" cy="15" r="4"
                                            fill="rgba(255,255,255,0.08)" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
                                    <circle cx="57" cy="15" r="2.5" fill="rgba(77,163,255,0.6)"/>
                                    <!-- Door outer ring -->
                                    <circle cx="40" cy="58" r="26"
                                            fill="rgba(255,255,255,0.03)"
                                            stroke="rgba(255,255,255,0.25)" stroke-width="2"/>
                                    <!-- Door rubber seal -->
                                    <circle cx="40" cy="58" r="23"
                                            fill="rgba(0,0,0,0.4)"
                                            stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                                    <!-- Clothing fill: dome shape, clipped to drum -->
                                    <path id="drumFill"
                                          d="M 17 56 Q 40 49 63 56 L 63 90 L 17 90 Z"
                                          fill="rgba(0,212,170,0.45)"
                                          clip-path="url(#drumClip)"/>
                                    <!-- Soil texture dots -->
                                    <g id="drumSoil" clip-path="url(#drumClip)" fill="rgba(255,255,255,0.22)">
                                        <circle cx="32" cy="74" r="1.5"/>
                                        <circle cx="50" cy="73" r="1.5"/>
                                        <circle cx="36" cy="70" r="1.5"/>
                                        <circle cx="46" cy="72" r="1.5"/>
                                        <circle cx="29" cy="77" r="1.5"/>
                                        <circle cx="52" cy="75" r="1.5"/>
                                    </g>
                                    <!-- Inner drum ring -->
                                    <circle cx="40" cy="58" r="19"
                                            fill="none"
                                            stroke="rgba(255,255,255,0.07)" stroke-width="1"/>
                                    <!-- Door handle -->
                                    <rect x="63" y="55" width="5" height="6" rx="2.5"
                                          fill="rgba(255,255,255,0.12)"
                                          stroke="rgba(255,255,255,0.25)" stroke-width="1"/>
                                </svg>
                            </div>
                        </div>
                    </div>


                </div>
            </div>

            <div class="calculator-card">
                <button class="detergent-bar" id="detergentBar" type="button">
                    <div class="detergent-bar-left">
                        <span class="detergent-bar-icon">üß¥</span>
                        <span class="detergent-bar-text">
                            <span class="detergent-bar-label">Detergent</span>
                            <span class="detergent-bar-sep">&middot;</span>
                            <span class="detergent-bar-type" id="detBarType">Liquid</span>
                            <span class="detergent-bar-sep">&middot;</span>
                            <span class="detergent-bar-conc" id="detBarConc">100%</span>
                        </span>
                    </div>
                    <span class="detergent-bar-chevron">&#9658;</span>
                </button>
                <div class="calc-label">Load Type</div>
                <select class="load-type-select" id="loadTypeSelect">
                    <option value="everyday">Everyday</option>
                    <option value="towels">Towels</option>
                    <option value="bedding">Bedding</option>
                    <option value="underwear">Underwear</option>
                    <option value="delicates">Delicates</option>
                    <option value="wool">Wool</option>
                    <option value="activewear">Activewear</option>
                    <option value="jeans">Jeans</option>
                </select>
                <div class="detergent-rec" id="detergentRec" hidden></div>
                <div class="calc-label">Load Size</div>
                <div class="selector-group" id="sizeGroup">
                    <button class="selector-btn" data-size="small">
                        Small
                        <span class="size-hint">2‚Äì3 kg</span>
                    </button>
                    <button class="selector-btn active" data-size="medium">
                        Medium
                        <span class="size-hint">4‚Äì5 kg</span>
                    </button>
                    <button class="selector-btn" data-size="large">
                        Large
                        <span class="size-hint">6‚Äì10 kg</span>
                    </button>
                </div>

                <div class="calc-label">Soil Level</div>
                <div class="selector-group" id="soilGroup">
                    <button class="selector-btn" data-soil="light">Light</button>
                    <button class="selector-btn active" data-soil="normal">Normal</button>
                    <button class="selector-btn" data-soil="heavy">Heavy</button>
                </div>

                <div class="calc-label calc-section-break">Colour Category</div>
                <div class="selector-group" id="colourGroup">
                    <button class="selector-btn colour-white" data-colour="whites">Whites</button>
                    <button class="selector-btn colour-light" data-colour="lights">Lights</button>
                    <button class="selector-btn colour-colours" data-colour="colours">Colours</button>
                    <button class="selector-btn colour-darks" data-colour="darks">Darks</button>
                    <button class="selector-btn colour-mixed active" data-colour="mixed">Mixed</button>
                </div>

                <div class="calc-label">Cycle</div>
                <div class="selector-group selector-group--wrap" id="cycleGroup">
                    <button class="selector-btn active" data-cycle="everyday">Everyday</button>
                    <button class="selector-btn" data-cycle="cottons">Cottons</button>
                    <button class="selector-btn" data-cycle="heavy">Heavy</button>
                    <button class="selector-btn" data-cycle="delicates">Delicate</button>
                    <button class="selector-btn" data-cycle="wool">Wool</button>
                    <button class="selector-btn" data-cycle="quick">Quick</button>
                    <button class="selector-btn" data-cycle="bulky">Bulky</button>
                    <button class="selector-btn" data-cycle="easyiron">Easy Iron</button>
                </div>
                <div class="cycle-rec" id="cycleRec" hidden></div>

                <div class="preset-tip" id="presetTip" hidden>
                    <div class="preset-tip-toggle" id="presetTipToggle">
                        <div class="preset-tip-title" id="presetTipTitle"></div>
                        <svg class="preset-tip-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"/>
                        </svg>
                    </div>
                    <div class="preset-tip-body" id="presetTipBody"></div>
                </div>
            </div>

        </section>

        <!-- Rules Section -->
        <section class="section" id="rules">
            <h2 class="section-header">Essential Rules</h2>

            <div class="collapsible open">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon blue">üíß</div>
                        <span class="collapsible-title">Soft Water Rules</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">‚ùå</span>
                                <span class="tip-text"><strong>Ignore cap lines</strong> ‚Äî they're designed for hard water and suggest 2‚Äì3√ó what you need</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">‚öñÔ∏è</span>
                                <span class="tip-text"><strong>More detergent ‚â† cleaner clothes</strong> ‚Äî excess causes residue, odours, and stiffness</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üå°Ô∏è</span>
                                <span class="tip-text"><strong>Lower temps work better</strong> ‚Äî soft water cleans effectively at 30¬∞C</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üìà</span>
                                <span class="tip-text"><strong>Increase in 5mL steps only</strong> if clothes aren't clean</span>
                            </div>
                        </div>
                        <div class="info-card" style="margin-top: 12px; margin-bottom: 0;">
                            <div class="info-card-header">
                                <div class="info-card-icon cyan">üìè</div>
                                <div class="info-card-title">Measuring Tip</div>
                            </div>
                            <div class="info-card-content">
                                <strong>Ignore the cap lines!</strong> They're designed for hard water. Use a syringe or marked container for accuracy. Your soft water needs far less.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon warm">üå°Ô∏è</div>
                        <span class="collapsible-title">Temperature by Colour</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <table class="ref-table">
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Temp</th>
                                    <th>Why</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>‚¨ú Whites</td>
                                    <td><strong>60¬∞C</strong></td>
                                    <td>Kills germs; 40¬∞C fine for cotton shirts</td>
                                </tr>
                                <tr>
                                    <td>üü® Lights/Pastels</td>
                                    <td><strong>40¬∞C</strong></td>
                                    <td>Low bleed risk</td>
                                </tr>
                                <tr>
                                    <td>üü™ Colours/Brights</td>
                                    <td><strong>30¬∞C</strong></td>
                                    <td>Prevents fading</td>
                                </tr>
                                <tr>
                                    <td>‚¨õ Darks</td>
                                    <td><strong>30¬∞C</strong></td>
                                    <td>Prevents fade & dye bleed</td>
                                </tr>
                                <tr>
                                    <td>üîÄ Mixed</td>
                                    <td><strong>30¬∞C</strong></td>
                                    <td>Safe for all</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="info-card" style="margin-top: 12px; margin-bottom: 0;">
                            <div class="info-card-content">
                                <strong>NHS recommends 60¬∞C</strong> for underwear, towels and household linen to kill germs ‚Äî or 40¬∞C with a bleach-based detergent.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon cyan">üì¶</div>
                        <span class="collapsible-title">Loading & Prep</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">‚úÖ</span>
                                <span class="tip-text">Fill drum to <strong>~¬æ full</strong> maximum</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">‚úÖ</span>
                                <span class="tip-text">Clothes must be able to <strong>tumble freely</strong></span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üîÑ</span>
                                <span class="tip-text"><strong>Turn darks inside out</strong> to prevent fading</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üÜï</span>
                                <span class="tip-text"><strong>New items bleed more</strong> ‚Äî wash separately first</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üß∫</span>
                                <span class="tip-text"><strong>Mesh bags</strong> for delicates, bras, lingerie</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üéØ</span>
                                <span class="tip-text"><strong>Pre-treat stains</strong> before washing</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üîí</span>
                                <span class="tip-text"><strong>Close zips & fastenings</strong> to prevent snags</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon pink">üå∏</div>
                        <span class="collapsible-title">Fabric Softener</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="info-card" style="margin-bottom: 12px;">
                            <div class="info-card-header">
                                <div class="info-card-icon pink">‚ö†Ô∏è</div>
                                <div class="info-card-title">Use With Caution</div>
                            </div>
                            <div class="info-card-content">
                                In soft water, fabric softener builds up quickly, reduces towel absorbency, and can trap odours. Your machine manual says <strong>max 25mL</strong>.
                            </div>
                        </div>
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">üö´</span>
                                <span class="tip-text"><strong>Skip it entirely</strong> ‚Äî your soft water already helps</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">¬Ω</span>
                                <span class="tip-text">Or use <strong>max 25mL</strong> (half a cap)</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">ü´ó</span>
                                <span class="tip-text">Try <strong>¬º cup white vinegar</strong> in softener drawer instead</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üß∂</span>
                                <span class="tip-text"><strong>Never on towels</strong> ‚Äî reduces absorbency</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon warm">üö®</div>
                        <span class="collapsible-title">Signs of Too Much Detergent</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">üß±</span>
                                <span class="tip-text">Clothes feel stiff or waxy</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üíß</span>
                                <span class="tip-text">Towels repel water instead of absorbing</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üëÉ</span>
                                <span class="tip-text">Lingering "clean" smell after drying</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">ü¶†</span>
                                <span class="tip-text">Musty washer smell</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">ü´ß</span>
                                <span class="tip-text">Excessive suds during wash</span>
                            </div>
                        </div>
                        <div class="info-card" style="margin-top: 12px; margin-bottom: 0; background: rgba(255, 159, 67, 0.1); border-color: rgba(255, 159, 67, 0.2);">
                            <div class="info-card-content">
                                <strong style="color: var(--accent-warm);">Fix:</strong> Cut detergent by 5‚Äì10mL and reassess after a few washes.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Machine Section -->
        <section class="section" id="machine">
            <h2 class="section-header">Your Machine</h2>

            <div class="machine-card">
                <div class="machine-header">
                    <div class="machine-icon">üåÄ</div>
                    <div>
                        <div class="machine-name">Fisher & Paykel Series 7</div>
                        <div class="machine-model">WH1060P4 ¬∑ 10kg Front Loader ¬∑ Steam Care</div>
                    </div>
                </div>
            </div>

            <div class="collapsible open">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon purple">üìã</div>
                        <span class="collapsible-title">Available Cycles</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <table class="ref-table">
                            <thead>
                                <tr>
                                    <th>Cycle</th>
                                    <th>Max Load</th>
                                    <th>Best For</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Cottons</strong></td>
                                    <td>10 kg</td>
                                    <td>Normally soiled cotton</td>
                                </tr>
                                <tr>
                                    <td><strong>Everyday</strong></td>
                                    <td>10 kg</td>
                                    <td>Mixed loads, faster</td>
                                </tr>
                                <tr>
                                    <td><strong>Heavy</strong></td>
                                    <td>10 kg</td>
                                    <td>Heavily soiled items</td>
                                </tr>
                                <tr>
                                    <td><strong>Delicate</strong></td>
                                    <td>4 kg</td>
                                    <td>Delicate fabrics</td>
                                </tr>
                                <tr>
                                    <td><strong>Wool</strong></td>
                                    <td>2 kg</td>
                                    <td>Machine-washable wool</td>
                                </tr>
                                <tr>
                                    <td><strong>Quick</strong></td>
                                    <td>4 kg</td>
                                    <td>Lightly soiled, fast</td>
                                </tr>
                                <tr>
                                    <td><strong>Bulky</strong></td>
                                    <td>2‚Äì3 items</td>
                                    <td>Duvets, sleeping bags</td>
                                </tr>
                                <tr>
                                    <td><strong>Easy Iron</strong></td>
                                    <td>10 kg</td>
                                    <td>Reduces creasing</td>
                                </tr>
                                <tr>
                                    <td><strong>Rinse</strong></td>
                                    <td>10 kg</td>
                                    <td>Extra rinse only</td>
                                </tr>
                                <tr>
                                    <td><strong>Spin</strong></td>
                                    <td>10 kg</td>
                                    <td>Spin-only, no water</td>
                                </tr>
                                <tr>
                                    <td><strong>Sanitise</strong></td>
                                    <td>9 kg</td>
                                    <td>75¬∞C ‚Äî illness, nappies</td>
                                </tr>
                                <tr>
                                    <td><strong>Steam Refresh</strong></td>
                                    <td>2 items</td>
                                    <td>De-wrinkle, light odours</td>
                                </tr>
                                <tr>
                                    <td><strong>Drum Clean</strong></td>
                                    <td>Empty</td>
                                    <td>90¬∞C machine clean</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon cyan">‚ö°</div>
                        <span class="collapsible-title">Cycle Options</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">üåø</span>
                                <span class="tip-text"><strong>ECO</strong> ‚Äî Saves water & energy, slightly lower temp</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">‚ö°</span>
                                <span class="tip-text"><strong>Speed</strong> ‚Äî Shorter cycle, good wash</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">ü§´</span>
                                <span class="tip-text"><strong>Quiet</strong> ‚Äî Lower spin, night washing</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üîÑ</span>
                                <span class="tip-text"><strong>Pre Wash</strong> ‚Äî Extra dirty loads</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üíß</span>
                                <span class="tip-text"><strong>Rinse+</strong> ‚Äî Extra rinse, sensitive skin</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üßº</span>
                                <span class="tip-text"><strong>Wash+</strong> ‚Äî Extended wash time</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">‚è±Ô∏è</span>
                                <span class="tip-text"><strong>Soak</strong> ‚Äî 30 min soak for stains</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üëï</span>
                                <span class="tip-text"><strong>Wrinkle Free</strong> ‚Äî Tumbles after cycle</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon warm">üå°Ô∏è</div>
                        <span class="collapsible-title">Temperature Settings</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="temp-guide">
                            <div class="temp-item">
                                <span class="temp-badge-sm cold">Cold</span>
                                <span class="temp-desc">Tap temp or 20¬∞C (heated)</span>
                            </div>
                            <div class="temp-item">
                                <span class="temp-badge-sm cold">30¬∞C</span>
                                <span class="temp-desc">Colours, darks, everyday</span>
                            </div>
                            <div class="temp-item">
                                <span class="temp-badge-sm warm">40¬∞C</span>
                                <span class="temp-desc">Cotton, synthetics, underwear</span>
                            </div>
                            <div class="temp-item">
                                <span class="temp-badge-sm warm">60¬∞C</span>
                                <span class="temp-desc">Whites, towels, bedding</span>
                            </div>
                            <div class="temp-item">
                                <span class="temp-badge-sm hot">90¬∞C</span>
                                <span class="temp-desc">Drum Clean only</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-card">
                <div class="info-card-header">
                    <div class="info-card-icon purple">üí®</div>
                    <div class="info-card-title">Steam Refresh Tip</div>
                </div>
                <div class="info-card-content">
                    Use <strong>Steam Refresh</strong> (max 2 items) to de-wrinkle and remove light odours ‚Äî no detergent needed! Items will be slightly damp after, just hang to dry.
                </div>
            </div>

            <div class="info-card">
                <div class="info-card-header">
                    <div class="info-card-icon cyan">üß¥</div>
                    <div class="info-card-title">Detergent Requirements</div>
                </div>
                <div class="info-card-content">
                    Your machine requires <strong>low-sudsing / HE detergent</strong> (labelled "front loader" or "high efficiency"). Using top-loader detergent causes excess suds and longer cycles.
                </div>
            </div>
        </section>

        <!-- Maintenance Section -->
        <section class="section" id="maintenance">
            <h2 class="section-header">Machine Care</h2>

            <div class="key-fact" data-key="drum-clean-fact">
                <button class="key-fact-close" aria-label="Dismiss" data-dismiss="drum-clean-fact">√ó</button>
                <div class="key-fact-title">
                    üîÑ Drum Clean Reminder
                    <span class="why-tip" title="Regular drum cleans prevent buildup and odors in front loaders.">Why?</span>
                </div>
                <div class="key-fact-text">Your machine shows a reminder after every 100 cycles. Don't ignore it ‚Äî prevents smells and buildup!</div>
            </div>

            <div class="collapsible open">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon cyan">üìÖ</div>
                        <span class="collapsible-title">Monthly Drum Clean</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="checklist">
                            <div class="check-item">
                                <div class="check-circle">1</div>
                                <div class="check-content">
                                    <div class="check-title">Empty the drum</div>
                                    <div class="check-desc">No clothes or items inside</div>
                                </div>
                            </div>
                            <div class="check-item">
                                <div class="check-circle">2</div>
                                <div class="check-content">
                                    <div class="check-title">Select Drum Clean cycle</div>
                                    <div class="check-desc">Runs at 90¬∞C automatically</div>
                                </div>
                            </div>
                            <div class="check-item">
                                <div class="check-circle">3</div>
                                <div class="check-content">
                                    <div class="check-title">Add cleaner to detergent drawer</div>
                                    <div class="check-desc">Machine cleaner tablet, OR half-dose detergent</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon blue">‚ú®</div>
                        <span class="collapsible-title">Regular Habits</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="tips-list">
                            <div class="tip-item">
                                <span class="tip-icon">üö™</span>
                                <span class="tip-text"><strong>Leave door ajar</strong> after every wash to air out</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üßΩ</span>
                                <span class="tip-text"><strong>Wipe door gasket</strong> weekly ‚Äî check under rubber folds</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üì§</span>
                                <span class="tip-text"><strong>Remove clothes promptly</strong> ‚Äî or use Wrinkle Free option</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üß¥</span>
                                <span class="tip-text"><strong>Clean detergent drawer</strong> monthly with warm water</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üîç</span>
                                <span class="tip-text"><strong>Check pump filter</strong> every few months (bottom right)</span>
                            </div>
                            <div class="tip-item">
                                <span class="tip-icon">üå°Ô∏è</span>
                                <span class="tip-text"><strong>Run 40¬∞C+ occasionally</strong> if you mostly wash cold</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="collapsible">
                <div class="collapsible-header">
                    <div class="collapsible-header-left">
                        <div class="collapsible-icon warm">üîß</div>
                        <span class="collapsible-title">Pump Filter Clean</span>
                    </div>
                    <svg class="collapsible-chevron" width="14" height="14" viewBox="0 0 14 14" fill="none" aria-hidden="true"><path d="M3 5L7 9L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <div class="collapsible-content">
                    <div class="collapsible-inner">
                        <div class="checklist">
                            <div class="check-item">
                                <div class="check-circle">1</div>
                                <div class="check-content">
                                    <div class="check-title">Open filter cover</div>
                                    <div class="check-desc">Bottom right of machine ‚Äî use coin in slot</div>
                                </div>
                            </div>
                            <div class="check-item">
                                <div class="check-circle">2</div>
                                <div class="check-content">
                                    <div class="check-title">Drain residual water</div>
                                    <div class="check-desc">Pull out hose, remove plug, drain into dish (~250mL)</div>
                                </div>
                            </div>
                            <div class="check-item">
                                <div class="check-circle">3</div>
                                <div class="check-content">
                                    <div class="check-title">Remove & clean filter</div>
                                    <div class="check-desc">Turn anti-clockwise, rinse under tap</div>
                                </div>
                            </div>
                            <div class="check-item">
                                <div class="check-circle">4</div>
                                <div class="check-content">
                                    <div class="check-title">Replace & close</div>
                                    <div class="check-desc">Turn clockwise until handle is vertical</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bottom-note">
                <div class="bottom-note-text">
                    Your water is <strong>very soft</strong> ‚Äî use less detergent than almost all guides suggest.<br><br>
                    Let temperature + correct loading do the work.<br>
                    <strong>Result:</strong> Cleaner clothes, fewer smells, longer machine life.
                    <br><br>
                    Detergent strengths vary by brand ‚Äî always check the label and adjust as needed.
                    <br><br>
                    <span class="version-tag">Version 1.0</span>
                </div>
            </div>
        </section>

    </div>

    <div class="nav-tabs-wrapper">
        <nav class="nav-tabs">
            <button class="nav-tab active" data-section="calculator">
                <span class="tab-icon">üßº</span>
                <span class="tab-label">Wash</span>
            </button>
            <button class="nav-tab" data-section="rules">
                <span class="tab-icon">üìã</span>
                <span class="tab-label">Rules</span>
            </button>
            <button class="nav-tab" data-section="machine">
                <span class="tab-icon">üåÄ</span>
                <span class="tab-label">Machine</span>
            </button>
            <button class="nav-tab" data-section="maintenance">
                <span class="tab-icon">üîß</span>
                <span class="tab-label">Care</span>
            </button>
        </nav>
    </div>

    <div class="modal-backdrop" id="detergentBackdrop" hidden></div>
    <div class="bottom-sheet" id="detergentSheet" hidden>
        <div class="sheet-handle"></div>
        <div class="sheet-header">
            <span class="sheet-title">Detergent Settings</span>
            <button class="sheet-done" id="sheetDone" type="button">Done</button>
        </div>
        <div class="sheet-body">
            <div class="sheet-rec" id="sheetRec" hidden></div>
            <div class="calc-label">Detergent Type</div>
            <div class="selector-group" id="detergentGroup">
                <button class="selector-btn active" data-detergent="liquid">Liquid</button>
                <button class="selector-btn" data-detergent="powder">Powder</button>
                <button class="selector-btn" data-detergent="pods">Pods</button>
            </div>
            <div class="detergent-guide" id="detergentGuide">Liquid is the default for front loaders.</div>
            <div class="calc-label">Concentration</div>
            <div class="range-control">
                <input type="range" id="concentrationRange" min="0.7" max="1.3" step="0.05" value="1">
                <div class="range-value" id="concentrationValue">100%</div>
            </div>
            <div class="concentration-note">Adjust lower for ultra-concentrated detergents, higher for diluted ones.</div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
